<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title></title>
  <link href="main.css" type="text/css" rel="stylesheet" />
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.0.min.js"></script>
</head>
<body>
  <script>
    $(function ()
    {

      var lastTop = $(document).scrollTop();
      var lastHash = window.location.hash;
      var fixed = 20;

      var f = function ()
      {


        var top = $(document).scrollTop();
        var offset = top - lastTop;


        if (lastHash != window.location.hash)
        {
          lastTop = top;
          lastHash = window.location.hash;
          return;
        }

        lastHash = "";

        fixed -= offset;


        if (offset > 0)
        {
          var navHeight = $("nav").height();
          var windowHeight = $(window).height();

          if (navHeight + fixed < windowHeight)
            fixed = windowHeight - navHeight;

        }

        if (fixed > 20)
          fixed = 20;

        $("nav").css({ position: 'fixed', top: fixed });
        lastTop = top;

      };

      $(document).scroll(f)
      f();
    });
  </script>
  <nav>
    <div id="NavTop"></div>
    <partial view="Navigation"></partial>
    <div id="NavBottom"></div>
  </nav>
  <section>
    <content></content>
  </section>
  <footer></footer>

</body>
</html>
